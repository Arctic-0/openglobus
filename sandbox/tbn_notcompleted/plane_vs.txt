attribute vec3 aVertexNormal;
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uPMatrix;
uniform mat4 uMVMatrix;
uniform mat3 uNMatrix;

uniform vec3 pointLightsPositions[1];


varying vec4 v_TransformedNormal;
varying vec4 v_Position;
varying vec2 v_TextureCoord;
varying vec4 v_lightDirection;
varying vec4 v_EyeVec;

varying mat3 v_NMatrix;

void main(void) {
    v_Position = uMVMatrix * vec4(aVertexPosition, 1.0);
	v_EyeVec = -v_Position;
    gl_Position = uPMatrix * v_Position;
    v_TransformedNormal = vec4(uNMatrix * aVertexNormal, 1.0);
	v_TextureCoord = aTextureCoord;
	v_NMatrix = uNMatrix;
	v_lightDirection = vec4(pointLightsPositions[0], 1.0) - v_Position;
}
